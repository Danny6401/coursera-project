{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danny\\\\OneDrive\\\\\\u684C\\u9762\\\\project\\\\coursera project\\\\final_project\\\\src\\\\components\\\\pages\\\\Bookings\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./index.css\";\nimport { fetchAPI, submitAPI } from \"../../../utils/fakeAPI\";\nimport pages from \"../../../utils/pages\";\nimport BookingForm from \"./BookingForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst updateTimes = (availableTimes, date) => {\n  const response = fetchAPI(new Date(date));\n  return response.length !== 0 ? response : availableTimes;\n};\nconst initializeTimes = initialAvailableTimes => [...initialAvailableTimes, ...fetchAPI(new Date())];\nconst Bookings = () => {\n  _s();\n  const [availableTimes, dispatchOnDateChange] = useReducer(updateTimes, [], initializeTimes);\n  const navigate = useNavigate();\n  const submitData = formData => {\n    const response = submitAPI(formData);\n    if (response) navigate(pages.get(\"confirmedBooking\").path);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bookings\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Table reservation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookingForm, {\n      availableTimes: availableTimes,\n      dispatchOnDateChange: dispatchOnDateChange,\n      submitData: submitData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(Bookings, \"Y0VLyjxUHIn3XmPfNVwE0+LT5c4=\", false, function () {\n  return [useNavigate];\n});\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["useReducer","useNavigate","fetchAPI","submitAPI","pages","BookingForm","jsxDEV","_jsxDEV","updateTimes","availableTimes","date","response","Date","length","initializeTimes","initialAvailableTimes","Bookings","_s","dispatchOnDateChange","navigate","submitData","formData","get","path","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/danny/OneDrive/桌面/project/coursera project/final_project/src/components/pages/Bookings/index.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport { fetchAPI, submitAPI } from \"../../../utils/fakeAPI\";\r\nimport pages from \"../../../utils/pages\";\r\nimport BookingForm from \"./BookingForm\";\r\n\r\nconst updateTimes = (availableTimes, date) => {\r\n  const response = fetchAPI(new Date(date));\r\n  return response.length !== 0 ? response : availableTimes;\r\n};\r\n\r\nconst initializeTimes = (initialAvailableTimes) => [\r\n  ...initialAvailableTimes,\r\n  ...fetchAPI(new Date()),\r\n];\r\n\r\nconst Bookings = () => {\r\n  const [availableTimes, dispatchOnDateChange] = useReducer(\r\n    updateTimes,\r\n    [],\r\n    initializeTimes\r\n  );\r\n  const navigate = useNavigate();\r\n\r\n  const submitData = (formData) => {\r\n    const response = submitAPI(formData);\r\n    if (response) navigate(pages.get(\"confirmedBooking\").path);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bookings\">\r\n      <h2>Table reservation</h2>\r\n      <BookingForm\r\n        availableTimes={availableTimes}\r\n        dispatchOnDateChange={dispatchOnDateChange}\r\n        submitData={submitData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bookings;\r\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,aAAa;AACpB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,wBAAwB;AAC5D,OAAOC,KAAK,MAAM,sBAAsB;AACxC,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,WAAW,GAAGA,CAACC,cAAc,EAAEC,IAAI,KAAK;EAC5C,MAAMC,QAAQ,GAAGT,QAAQ,CAAC,IAAIU,IAAI,CAACF,IAAI,CAAC,CAAC;EACzC,OAAOC,QAAQ,CAACE,MAAM,KAAK,CAAC,GAAGF,QAAQ,GAAGF,cAAc;AAC1D,CAAC;AAED,MAAMK,eAAe,GAAIC,qBAAqB,IAAK,CACjD,GAAGA,qBAAqB,EACxB,GAAGb,QAAQ,CAAC,IAAIU,IAAI,EAAE,CAAC,CACxB;AAED,MAAMI,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACR,cAAc,EAAES,oBAAoB,CAAC,GAAGlB,UAAU,CACvDQ,WAAW,EACX,EAAE,EACFM,eAAe,CAChB;EACD,MAAMK,QAAQ,GAAGlB,WAAW,EAAE;EAE9B,MAAMmB,UAAU,GAAIC,QAAQ,IAAK;IAC/B,MAAMV,QAAQ,GAAGR,SAAS,CAACkB,QAAQ,CAAC;IACpC,IAAIV,QAAQ,EAAEQ,QAAQ,CAACf,KAAK,CAACkB,GAAG,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC;EAC5D,CAAC;EAED,oBACEhB,OAAA;IAAKiB,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACvBlB,OAAA;MAAAkB,QAAA,EAAI;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eAC1BtB,OAAA,CAACF,WAAW;MACVI,cAAc,EAAEA,cAAe;MAC/BS,oBAAoB,EAAEA,oBAAqB;MAC3CE,UAAU,EAAEA;IAAW;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACvB;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACE;AAEV,CAAC;AAACZ,EAAA,CAvBID,QAAQ;EAAA,QAMKf,WAAW;AAAA;AAAA6B,EAAA,GANxBd,QAAQ;AAyBd,eAAeA,QAAQ;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}